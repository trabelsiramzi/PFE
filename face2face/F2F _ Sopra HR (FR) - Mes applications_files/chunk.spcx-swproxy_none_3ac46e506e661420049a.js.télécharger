(window.webpackJsonpb6917cb1_93a0_4b97_a84d_7cf49975d4ec_0_2_0=window.webpackJsonpb6917cb1_93a0_4b97_a84d_7cf49975d4ec_0_2_0||[]).push([[155],{ZSCv:function(e,t,n){"use strict";n.r(t),n.d(t,"supportsServiceWorker",function(){return s});var a,i=n("K9kD");!function(e){e[e.SharePoint=0]="SharePoint",e[e.Odc=1]="Odc",e[e.TeamsBroker=2]="TeamsBroker"}(a||(a={}));var r=[{registration:{id:"STS",swPrefetchManifestName:"stsserviceworkerprefetch"}},{registration:{id:"SPHome"}},{featureIds:[1966],registration:{id:"SitePages"}},{registration:{id:"Embed"}},{odc:!0,scenarioId:a.Odc,featureIds:["EnableODCServiceWorker"],registration:{id:"ODC"}},{featureIds:[60579],registration:{id:"CreateGroup"}},{featureIds:[60840],registration:{id:"TeamsLogon"}},{featureIds:[60155],registration:{id:"SingleWebPart"}},{featureIds:[60840],registration:{id:"VivaHome"}},{featureIds:[60877],registration:{id:"Vinci"}},{featureIds:[60940],registration:{id:"BrokerLogon"}},{scenarioId:a.TeamsBroker,registration:{id:"TeamsBroker"}}],o=function(){function e(){var e=this;this._listeners=new Set,this._onMessage=function(t){var n=t.data;e._listeners.forEach(function(e){e(n)})},s()&&navigator.serviceWorker.addEventListener("message",this._onMessage)}return e.prototype.addListener=function(e){this._listeners.add(e)},e.prototype.removeListener=function(e){this._listeners.delete(e)},e.prototype.register=function(){if(!s())return Promise.reject();var e,t,n,o,c,d,l=(e=i.FeatureOverrides.isFeatureEnabled({ODC:!0}),t=i.Killswitch.isActivated("F1216389-D92B-491A-8E20-31629400116D","6/28/2022","scenario"),n=e?a.Odc:"securebroker.sharepointonline.com"===location.host?a.TeamsBroker:a.SharePoint,o=r.filter(function(r){if(t){if(e===!r.odc)return!1}else if(n!==(r.scenarioId||a.SharePoint))return!1;var o=!0;return r.featureIds&&r.featureIds.forEach(function(t){o=o&&i.FeatureOverrides.isFeatureEnabled(e?{ODC:t}:{ODB:t})}),"STS"===r.registration.id?o&&!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/):o}).map(function(e){return e.registration}),c=JSON.stringify(o),d=!e&&i.FeatureOverrides.isFeatureEnabled({ODB:1966})&&-1!==document.cookie.indexOf("SPClientSideFrameworkDevCookie-9076A2B0-2161-43C6-8BEA-9FECB7EA459B="),"".concat(e?"/odc":"/_layouts/15/odsp","serviceworkerproxy.aspx")+"?swManifestName=".concat(e?"odc":t||n!==a.TeamsBroker?"sp":"teamsbroker","serviceworker")+"&debug=".concat(d?"true":"false")+"&bypass=".concat("false")+"&applications=".concat(encodeURIComponent(c))+"".concat((t||n===a.SharePoint)&&i.FeatureOverrides.isFeatureEnabled({ODB:60448})?"&list=v2":"")+"".concat(i.FeatureOverrides.isFeatureEnabled({ODB:60734})?"&defaultBrotli=true":""));return navigator.serviceWorker.register(l,{scope:"/"})},e.prototype.unregister=function(){return s()?navigator.serviceWorker.getRegistrations().then(function(e){Promise.all(e.map(function(e){return e.unregister()}))}):Promise.reject()},e.prototype.send=function(e){if(s()&&navigator.serviceWorker.controller){var t=JSON.stringify(e);navigator.serviceWorker.controller.postMessage(t)}},e.prototype.sendAndReceiveReply=function(e){return s()&&navigator.serviceWorker.controller?new Promise(function(t,n){var a=new MessageChannel;a.port1.onmessage=function(e){var a=e.data;a.error?n(a.error):t(e.data)};var i=JSON.stringify(e);navigator.serviceWorker.controller.postMessage(i,[a.port2])}):Promise.reject(void 0)},e.prototype.sync=function(e){return s()?navigator.serviceWorker.ready.then(function(t){return t.sync.register(JSON.stringify(e))}):Promise.reject()},e.prototype.dispose=function(){s()&&navigator.serviceWorker.removeEventListener("message",this._onMessage)},e}();function s(){return"serviceWorker"in navigator}t.default=o}}]);